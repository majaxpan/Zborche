# Зборче/Zborche

Играта која ја креирав претставува македонска верзија на играта Wordle на The New York Times.
Дел од правилата кои постојат во Wordle се задржани, меѓутоа додадов и други функционалности, опции и правила.
Линк до Wordle: https://www.nytimes.com/games/wordle/index.html

## Правила:
Целта на играта е да се погоди збор кој содржи точно 5 букви, во најмногу 6 обиди. 
При секој внесен обид корисникот добива информации за буквите кои се внесени, со тоа што се избојуваат полињата зад внесените букви.
Зелено поле означува дека внесената буква е буква која се наоѓа во тајниот збор и притоа е на точна позиција.
Жолто поле означува дека внесената буква е буква која се наоѓа во тајниот збор, меѓутоа е на погрешна позиција.
Плаво поле означува дека внесената буква е буква која се наоѓа повеќе од еднаш во тајниот збор, меѓутоа е на погрешна позиција.
Сиво поле означува дека внесената буква е буква која не се наоѓа во тајниот збор.

На почетокот на играта се селектира режим во кој се игра, при што:
Лесен режим: корисникот може да внесува рандом букви кои во целина не претставуваат збор. Со тоа се олеснува начинот на пронаоѓање на точната позиција за одредена буква.
Среден режим: корисникот може да внесува рандом букви кои во целина не претставуваат збор, меѓутоа една буква не може да се внеси повеќе од 2 пати со ред, со што се отежнува потрагата по точна позиција за одредена буква.
Тежок режим: корисникот при своите обиди мора да внесе збор кој што се содржи во листата на зборови на играта. Со тоа се значително се намалува шансата за лесно откривање на позициите на буквите во избраниот збор.

## Упатство:
Корисникот на почетокот добива форма во која го избира режимот. Со клик на копчето Почни ја започнува играта. Во текстуално поле внесува збор, кој мора да биде испишан со македонска поддршка, мора да содржи точно 5 карактери и истите мора да бидат букви. Обид за внесување на празни места, броеви или знаци нема да биде прифатен.
На крајот на играта на корисникот му се исцртува прозорец кој го известува за победа/загуба и дава опција да се излези од играта или да се игра повторно. Доколку корисникот изгубил, во ленатата за статус ќе му биде испишан зборот кој се барал. 

## Податоци:
Во играта се чува Hashset од strings, каде се чуваат околу 1200 македонски зборови. Изборот на оваа структура е поради постоењето на тежок режим во играта. Таму има потреба од проверка дали одреден збор е содржан во играта, па проверката теоретски е побрза.
Се чува низа од тип Colors, која се пополнува после секој обид и се користи за избојување на полињата зад буквите. Боите се одредуваат преку метод кој врши проверка дали буквата е содржана во тајниот збор и дали е на точна позиција.
Во string се чува и режимот на играта, истиот се користи при проверките и валидацијата на зборот од обидот на корисникот.
Се чува и int кој претставува број на искористени обиди и се користи за проверка дали се искористени обидите и известување на корисникот уште колку обиди му преостануваат.

## Логика:
Во проектот има една класа во која се чуваат сите зборови наречена DataHolder. Изборот на таен збор се прави со помош на методот pickWord() од класата WordPicker, со што се селектира рандом збор од hashset-от.
Главната логика на играта е содржана во класата Game, каде има метод за проверка на исправноста на обидите и поставување на бои.
Во класата за формата се повикуваат методите за валидација од класата Game и се известува корисникот. 

## Опис на checkWord() методот на Game класата:

```csharp
  public void checkWord(string tryWord)
  {
      //главната логика во играта
      //која одредува дали внесените букви во зборот
      //се среќаваат во зборот селектиран од играта
      
      bool[] matched = new bool[gameWord.Length];
      Dictionary<char, int> letterCount = new Dictionary<char, int>();
  
      // броење на појавувања за секоја буква во тајниот збор
      // всушност се врши проверка дали има буква која се појавува повеќе пати во тајниот збор
      foreach (char c in gameWord)
      {
          if (letterCount.ContainsKey(c))
          {
              letterCount[c]++;
          }
          else
          {
              letterCount[c] = 1;
          }
      }
  
      // Прва проверка
      // точна буква и точна позиција
      // ги маркира и обојува
      for (int i = 0; i < colors.Length; i++)
      {
          //проверка дали буквата од обидот на i-тата позиција во обидот
          //се наоѓа во зборот и тоа на точна позиција
          if (tryWord[i] == gameWord[i])
          {
              //доколку е точна ја обојува во зелено
              colors[i] = Color.LightGreen;
              //селектира дека истата е откриена
              matched[i] = true;
              //го намалува бројот на повторувања на една буква
              letterCount[tryWord[i]]--;
          }
          else
          {
              //доколку не е точна буква на точна позиција
              //ја обојува во сиво
              colors[i] = Color.LightGray;
          }
      }
  
      // Втора проверка
      // точна буква на погрешна позиција
      // споредува со преостанатите
      for (int i = 0; i < colors.Length; i++)
      {
          if (colors[i] == Color.LightGreen)
          {
              continue; // Прескокни ги зелените букви (точните букви на точна позиција)
          }
          
          //проверува дали буквата се содржи повеќе пати во зборот
          if (letterCount.ContainsKey(tryWord[i]) && letterCount[tryWord[i]] > 0)
          {
              int tryLetterCount = tryWord.Count(c => c == tryWord[i]);
              int gameLetterCount = gameWord.Count(c => c == tryWord[i]);
  
              //проверува дали во обидот иста буква е внесена повеќе пати
              //и дали токму таа буква се среќава повеќе пати во тајниот збор
              //во ваков случај повеќете појавувања треба да бидат обоени во жолто
              //доколку и двете се наоѓаат на погрешна позиција
              if (tryLetterCount > 1 && gameLetterCount > 1)
              {
                  colors[i] = Color.LightYellow; // повеќе појавувања во tryWord и gameWord на буква
                  letterCount[tryWord[i]]--; 
              }
              //во обидот некоја буква е внесена еднаш
              //но истата се среќава повеќе пати во тајниот збор
              //истата ќе биде обоена во плаво
              else if (tryLetterCount == 1 && gameLetterCount > 1)
              {
                  colors[i] = Color.LightBlue; // повеќе појавувања во gameWord но едно појавување во tryWord на буква
                  letterCount[tryWord[i]]--; 
              }
              else
              {
                  colors[i] = Color.LightYellow;
                  letterCount[tryWord[i]]--; 
              }
          }
          else
          {
              colors[i] = Color.LightGray;
          }
      }
  
      // повеќе појавувања на една буква во tryWord, а се среќава во помалку појавувања во game word
      //во тој случај првото појавување треба да биде обоено зелено/жолто во однос на позицијата а второто да остане сиво
      Dictionary<char, int> tryWordLetterCount = new Dictionary<char, int>();
      for (int i = 0; i < tryWord.Length; i++)
      {
          if (!tryWordLetterCount.ContainsKey(tryWord[i]))
          {
              tryWordLetterCount[tryWord[i]] = 1;
          }
          else
          {
              tryWordLetterCount[tryWord[i]]++;
              if (tryWordLetterCount[tryWord[i]] > gameWord.Count(c => c == tryWord[i]))
              {
                  colors[i] = Color.LightGray; // повеќе појавувања во tryWord отколку во gameWord
              }
          }
      }
  }
```
## Опис на checkColors() методот од Game класата
```csharp
//метод кој се повикува
//кога се врши проверка 
//дали е погоден зборот
//во суштина се проверува дали сите полиња
//се означени со зелена боја
public bool checkColors()
{
    int flag = 0;
    foreach(Color c in colors)
    {
        if (c.Equals(Color.LightGreen))
            flag++;
    }
    return flag == 5;
}
```
Овој метод се повикува од страна на Form1 класата во методот Won()
```csharp
private bool Won()
{
    //доколку сите полиња се зелени
    //играчот победува
    return game.checkColors();
}
```

## Избор на режим:
![режим](https://github.com/majaxpan/Zborche/assets/100315315/1919c6cb-33e0-4bbd-8689-02031b11c8bb)

## Изглед на играта:
![изглед](https://github.com/majaxpan/Zborche/assets/100315315/dd779c4c-a087-423a-8049-4b884c253aa5)

![победа](https://github.com/majaxpan/Zborche/assets/100315315/bed94fa1-eb51-4704-a12d-79c63affdb13)


